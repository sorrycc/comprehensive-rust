---
minutes: 30
translated_at: '2024-03-26T10:02:35.856Z'
---

# 练习：Luhn 算法

# Luhn 算法

[Luhn 算法](https://en.wikipedia.org/wiki/Luhn_algorithm) 用于验证信用卡号。该算法接受一个字符串作为输入，并执行以下操作来验证信用卡号：

- 忽略所有空格。如果数字少于两位，则拒绝该数字。

- 从**右向左**移动，对每个第二个数字加倍：对于数字 `1234`，我们加倍 `3` 和 `1`。对于数字 `98765`，我们加倍 `6` 和 `8`。

- 加倍一个数字后，如果结果大于 9，则将这些数字相加。因此，加倍 `7` 得到 `14`，然后变成 `1 + 4 = 5`。

- 将未加倍和已加倍的数字全部相加。

- 如果总和以 `0` 结尾，则信用卡号有效。

提供的代码提供了 Luhn 算法的一个错误实现，以及两个基本的单元测试，确认算法大部分被正确实现。

将下面的代码复制到 <https://play.rust-lang.org/> 并编写额外的测试以发现提供实现中的错误，修复你找到的任何错误。

```rust
{{#include exercise.rs:luhn}}

{{#include exercise.rs:unit-tests}}
}
```
